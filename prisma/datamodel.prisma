type Account {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt

  username: String @unique
  email: String! @unique
  password: String!
  isVerified: Boolean! @default(value: false)
  role: Role! @default(value: OWNER)
  lastLogin: DateTime
}

type Invitation {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt

  email: String @unique
  role: Role!
}

type Owner {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt

  account: Account!
  firstName: String!
  middleName: String
  lastName: String!
  schools: [School!]!
  location: Location

}

type School {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt

  title: String!
  phone: String! @unique
  uri: String! @unique
  email: String! @unique
  owner: Owner! @relation(link: INLINE)
  locations: [Location!]!
}

type Token {
  id: ID! @id
  createdAt: DateTime! @createdAt

  accountId: String!
  token: String! @unique
  type: TokenType! @default(value: EMAIL)
}

type Location {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt

  number: String!
  street: String!
  other: String
  city: String!
  country: String!
  postalCode: String!
  nearestLandmark: String
  geocode: Geocode
}

type Geocode {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt

  latitude: Float!
  longitude: Float!
}

enum TokenType {
  PASSWORD
  EMAIL
}

enum Role {
  OWNER
  ADMIN
  STAFF
  TEACHER
  GUARDIAN
  STUDENT
}
